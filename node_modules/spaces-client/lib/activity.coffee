class Activity
  Faker = require('faker')
  Resource = require('./resource')

  @createActivity = (site, sessionId, parentId, userId, onsuccess, onfail, oncreate) ->
    data = {
      activity: {
        status: Faker.Lorem.sentences(1)
      }
    }
    Resource.createResource(site, userId, sessionId, 'activity', data, onsuccess, onfail, oncreate)

#    XMLHttpRequest = require("xmlhttprequest").XMLHttpRequest
#    xhr = new XMLHttpRequest()
#    xhr.setDisableHeaderCheck(true)
#    xhr.open('POST', site.full_url + "/activities", true)
#    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
#    xhr.setRequestHeader("Accept", "application/vnd.moxiesoft.spaces-v1+json")
#    xhr.setRequestHeader("Cookie", ["_social_navigator_session=" + Spaces.Session.getSessionId(site, userId), "path=/"])
#    xhr.onload = () ->
#      if this.status == 200 || this.status == 201
#        activityId = this.responseText.match(/"id":"(.*?)"/)[1]
#        Spaces.logger.debug("[%s][%s] Created activity [%s]", site.site_id, userId, activityId)
#        Spaces.Session.addItem(site, userId, 'activity', activityId)
#      else
#        Spaces.logger.error("[%s][%s] Activity.create failed: %s - %s", site.site_id, userId, this.status, this.responseText)
#    xhr.send(data)

module.exports = exports = Activity