class Group
  Faker = require('Faker')
  Resource = require("./resource")

  @createGroup = (site, sessionId, resourceId, parentId, userId, onsuccess, onfail, oncreate) ->
    data = {
      group: {
        _type: "BasicGroup",
        title: Faker.Lorem.sentences(1),
        body: Faker.Lorem.sentences(4),
        parent_id: parentId
      }
    }

    Resource.createResource(site, userId, sessionId, 'groups', data, onsuccess, onfail, oncreate)

  @showGroup = (site, sessionId, resourceId, parentId, userId, onsuccess, onfail) ->
    addlHeaders = {
      "Cookie": ["_social_navigator_session=" + sessionId, "path=/"]
    }
    Resource.getResource(site, userId, sessionId, 'groups/' + resourceId, addlHeaders, ((res) ->
      onsuccess()
    ), (() ->
      onfail()
    ))

module.exports = exports = Group
