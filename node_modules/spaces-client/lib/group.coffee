class Group
  Faker = require('Faker')
  Resource = require("./resource")

  @showGroup = (site, sessionId, resourceId, parentId, userId, onsuccess, onfail) ->
    addlHeaders = {
      "Accept": "application/vnd.moxiesoft.spaces-v1+json",
      "Cookie": ["_social_navigator_session=" + sessionId, "path=/"]
    }
    Resource.getResource(site, userId, sessionId, 'groups/' + resourceId, addlHeaders, onsuccess, onfail)

  @createGroup = (site, sessionId, resourceId, parentId, userId, onsuccess, onfail, oncreate) ->
    data = {
      group: {
        _type: "BasicGroup",
        title: Faker.Lorem.sentences(1),
        body: Faker.Lorem.sentences(4),
        parent_id: parentId
      }
    }
    Resource.createResource(site, userId, sessionId, 'groups', data, onsuccess, onfail, oncreate)

  @updateGroup = (site, sessionId, resourceId, parentId, userId, onsuccess, onfail) ->
    data = {
      group: {
        title: Faker.Lorem.sentences(1)
      }
    }
    Resource.editResource(site, userId, sessionId, 'groups/' + resourceId, data, onsuccess, onfail)

module.exports = exports = Group
