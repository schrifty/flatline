class Session
  @sessions = {}

  @setSessionId = (userId, id) ->
    @sessions[userId] = {} unless @sessions[userId]
    @sessions[userId]["id"] = id
    console.log "Stored session ID [" + @sessions[userId]["id"] + "] for user [" + userId + "]"

  @getSessionId = (userId) ->
    if session = @sessions[userId]
      if sessionId = session["id"]
        return sessionId
      else
        console.log "Couldn't find ID within session for user [" + userId + "]"
    else
      console.log "Couldn't find session for user [" + userId + "]"

  @getRandomItemIdOfType = (userId, type) ->
    if @sessions[userId]
      if list = @sessions[userId][type]
        return list[Math.floor(Math.random() * list.length)]
      else
        console.log "There are NO blogs"
    else
      console.log "ERROR: user session not found"

  @addItem = (userId, type, item) ->
    console.log "Adding " + type + " [" + item + "] for user [" + userId + "]"
    if @sessions[userId]
      @sessions[userId][type] = [] unless @sessions[userId][type]
      @sessions[userId][type].push item

module.exports = exports = Session